generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model users {
  id        String     @id @default(auto()) @map("_id") @db.ObjectId
  firstName String
  lastName  String
  email     String     @unique
  password  String
  otp       Int        @default(0)
  address   String
  city      String     @default("Bangladesh")
  product   product[]
  // cart      cart[]
  // Order     Order[] 
  category  category[]
  cart      cart[]
}

model product {
  id                 String @id @default(auto()) @map("_id") @db.ObjectId
  name               String
  price              String
  unit               String
  imagurl            String
  title              String
  description        String
  brand              String
  discountPercentage String
  user               users  @relation(fields: [userId], references: [id])
  userId             String @db.ObjectId

  category   category @relation(fields: [categoryId], references: [id])
  categoryId String

  cart   cart?   @relation(fields: [cartId], references: [id])
  cartId String? @db.ObjectId
}

model cart {
  id     String @id @default(auto()) @map("_id") @db.ObjectId
  user   users  @relation(fields: [userId], references: [id])
  userId String @db.ObjectId

  product product[]
}

model category {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  name String

  user   users  @relation(fields: [userId], references: [id])
  userId String @db.ObjectId

  product product[]
}

model customer {
  id   String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  
}

// model Order {
//   id        String  @id @default(auto()) @map("_id") @db.ObjectId
//   author    users   @relation(fields: [authorId], references: [id])
//   authorId  String  @db.ObjectId
//   product   product @relation(fields: [productId], references: [id])
//   productId String
//   quantity  Int
// }
