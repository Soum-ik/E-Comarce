generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model users {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  firstName String
  lastName  String
  email     String  @unique
  password  String
  otp       Int     @default(0)
  address   String
  city      String  @default("Bangladesh")
  orders    Order[]
}

model category {
  id      String    @id @default(auto()) @map("_id") @db.ObjectId
  name    String
  product product[]
}

model product {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  name        String
  price       String
  unit        String
  imagurl     String
  category_id String
  orders      Order[]
  category    category @relation(fields: [category_id], references: [id], onDelete: Restrict, onUpdate: Cascade)
  cart        cart[]

  title       String
  description String

  discountPercentage String
  stock              String
  brand              String

  thumbnail String
  images    String[]
}

model Order {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  user      users   @relation(fields: [userId], references: [id])
  userId    String
  product   product @relation(fields: [productId], references: [id])
  productId String
  quantity  Int
}

model cart {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  productId String
  product   product @relation(fields: [productId], references: [id], onDelete: Restrict, onUpdate: Cascade)
}
